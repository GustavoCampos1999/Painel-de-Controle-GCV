<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Controle Primor</title>
    <link rel="stylesheet" href="styles.css"> <link rel="stylesheet" href="calculadora.css"> <link rel="icon" type="image/png" href="images/favicon.png">
</head>
<body>

    <div id="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Carregando dados...</p>
    </div>

    <header>
        <div class="header-logo-container">
            <img src="images/logo.webp" alt="Logo Primor" id="header-logo">
            <h1>Painel de Controle</h1>
            <button id="btn-theme-toggle" class="theme-toggle-button" title="Mudar tema">üåô</button>
        </div>
        <div>
            <span id="user-email">Carregando...</span>
            <a href="#" id="btn-logout" style="margin-left: 15px;">Sair</a>
        </div>
    </header>

    <nav class="tabs">
        <button class="tab-button active" data-tab="tab-clientes">Clientes & Or√ßamentos</button>
        <button class="tab-button" data-tab="tab-gerenciar-dados">Gerenciar Dados</button>
    </nav>

    <main>
        <div id="tab-clientes" class="tab-content active">

            <div id="client-list-view">
                <div class="list-container">
                    <div class="list-header">
                        <h2>Meus Clientes</h2>
                        <button id="btn-abrir-modal-add" class="btn-adicionar">Adicionar Novo Cliente</button>
                    </div>
                    <input type="text" id="input-pesquisa" placeholder="Pesquisar por nome...">
                   <div class="filter-container">
                        <select id="select-client-filter" class="client-filter-select">
                            <option value="nome_asc">Ordenar por Nome (A-Z)</option>
                            <option value="venda_realizada_true">Vendas Conclu√≠das</option>
                            <option value="venda_realizada_false">Vendas n√£o Conclu√≠das</option>
                            <option value="updated_at_desc">Editados Recentemente</option>
                            <option value="created_at_desc">Criados Recentemente</option>
                            <option value="updated_at_asc">√öltimos Editados</option>
                            <option value="created_at_asc">√öltimos Criados</option>
                        </select>
                    </div>
                    <div id="lista-clientes">
                        </div>
                </div>
            </div>

            <div id="calculator-view" style="display: none;">

                <div class="calculator-header">
                    <button id="btn-voltar-clientes">&larr; Voltar para Clientes</button>
                    <h2 id="calculator-client-name">Calculadora para Cliente</h2>
                    <div id="save-status-wrapper" class="save-status-wrapper">
    <span id="save-status-message" class="save-status-message"></span>
    <button id="btn-print-orcamento" class="btn-print-orcamento" title="Imprimir Or√ßamento">üñ®Ô∏è</button>
    <button id="btn-manual-save" class="btn-manual-save hidden">Salvar</button>
</div>
                </div>

                <div id="calc-tabs-container">
                    <button id="btn-add-aba-calc" title="Adicionar novo or√ßamento (aba)">+</button>
                    </div>

                <div id="section-controls" class="section-controls-container">
                    <span>Adicionar Se√ß√£o de Or√ßamento:</span>
                    <button id="btn-add-section-tecido" class="btn-add-section">Cortinas Tecido</button>
                    <button id="btn-add-section-amorim" class="btn-add-section">Cortinas Amorim</button>
                    <button id="btn-add-section-toldos" class="btn-add-section">Toldos Amorim</button>
                </div>

                <div id="quote-sections-container">
                    </div>

                <div class="wrapper-markups calculator-markups">
                    <div class="grupo-markups">
                        <div>
                            <label for="input-valor-entrada-global">ENTRADA</label>
                            <input type="text" id="input-valor-entrada-global" class="global-calc-trigger format-money" inputmode="decimal">
                        </div>
                        <div>
                            <label for="select-parcelamento-global">PARCELAMENTO</label>
                            <select id="select-parcelamento-global" class="global-calc-trigger"></select>
                        </div>
                        <div>
                            <label for="select-frete-global">FRETE</label>
                            <select id="select-frete-global" class="global-calc-trigger"></select>
                        </div>

                    </div>
                    
                </div>

                <div id="calculator-summary" class="calculator-container" style="display: none;">
                    <h3>Resumo do Or√ßamento Selecionado</h3>
                    <div class="summary-totals-container">
                        <div class="summary-total-box" id="summary-total-avista-box">
                            <label>TOTAL</label>
                            <span id="summary-total-avista">R$ 0,00</span>
                        </div>
                        
                         <div class="summary-total-box" id="summary-total-entrada" style="display: none;">
                            <label>ENTRADA</label>
                            <span id="summary-total-entrada-value">R$ 0,00</span>
                        </div>
                        <div class="summary-total-box" id="summary-total-restante" style="display: none;">
                            <label id="summary-restante-label">RESTANTE</label>
                            <span id="summary-total-restante-value">R$ 0,00</span>
                        </div>
                        <div class="summary-total-box" id="summary-total-parcelado-box">
                            <label id="summary-parcelado-label">D√âBITO</label>
                            <span id="summary-total-parcelado">R$ 0,00</span>
                        </div>
                    </div>
                    <div class="summary-venda-container">
                        <input type="checkbox" id="chk-summary-venda-realizada">
                        <label for="chk-summary-venda-realizada">Marcar como Venda Realizada</label>
                    </div>
                </div>

            </div> </div> <div id="tab-gerenciar-dados" class="tab-content">
            <div class="gerenciar-dados-container">
                <nav class="sub-tabs">
                    <button class="subtab-button active" data-subtab="subtab-tecidos">Tecidos</button>
                    <button class="subtab-button" data-subtab="subtab-confeccao">Confec√ß√£o</button>
                    <button class="subtab-button" data-subtab="subtab-trilho">Trilho</button>
                    <button class="subtab-button" data-subtab="subtab-outros">Outros</button>
                </nav>

                <div id="subtab-tecidos" class="subtab-content active">
                    <section class="gerenciar-dados-secao">
                        <div class="secao-header">
                            <h2>Gerenciar Tecidos</h2>
                            <button id="btn-abrir-modal-add-tecido" class="btn-adicionar">Adicionar Tecido</button>
                        </div>
                        <input type="text" id="input-pesquisa-tecidos" class="input-pesquisa-dados" placeholder="Pesquisar por nome do tecido...">
                        <table id="tabela-tecidos">
                            <thead>
                                <tr>
                                    <th title="Favorito">‚òÖ</th>
                                    <th class="sortable-header" data-sort-key="produto">Produto <span class="sort-arrow"></span></th>
                                    <th class="sortable-header" data-sort-key="largura">Largura <span class="sort-arrow"></span></th>
                                    <th class="sortable-header" data-sort-key="atacado">Pre√ßo (Atacado) <span class="sort-arrow"></span></th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="tabela-tecidos-body"></tbody>
                        </table>
                    </section>
                </div>

                <div id="subtab-confeccao" class="subtab-content">
                    <section class="gerenciar-dados-secao">
                        <div class="secao-header">
                            <h2>Gerenciar Tipos de Confec√ß√£o</h2>
                            <button id="btn-abrir-modal-add-confeccao" class="btn-adicionar">Adicionar Confec√ß√£o</button>
                        </div>
                        <input type="text" id="input-pesquisa-confeccao" class="input-pesquisa-dados" placeholder="Pesquisar por nome da op√ß√£o...">
                        <table id="tabela-confeccao">
                             <thead>
                                <tr>
                                    <th title="Favorito">‚òÖ</th>
                                    <th class="sortable-header" data-sort-key="opcao">Op√ß√£o <span class="sort-arrow"></span></th>
                                    <th class="sortable-header" data-sort-key="valor">Valor <span class="sort-arrow"></span></th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="tabela-confeccao-body"></tbody>
                        </table>
                    </section>
                </div>

                <div id="subtab-trilho" class="subtab-content">
                     <section class="gerenciar-dados-secao">
                        <div class="secao-header">
                            <h2>Gerenciar Tipos de Trilho</h2>
                            <button id="btn-abrir-modal-add-trilho" class="btn-adicionar">Adicionar Trilho</button>
                         </div>
                        <input type="text" id="input-pesquisa-trilho" class="input-pesquisa-dados" placeholder="Pesquisar por nome da op√ß√£o...">
                       <table id="tabela-trilho">
                             <thead>
                                <tr>
                                    <th title="Favorito">‚òÖ</th>
                                    <th class="sortable-header" data-sort-key="opcao">Op√ß√£o <span class="sort-arrow"></span></th>
                                    <th class="sortable-header" data-sort-key="valor">Valor <span class="sort-arrow"></span></th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="tabela-trilho-body"></tbody>
                        </table>
                    </section>
               </div>

                <div id="subtab-outros" class="subtab-content">
                    <section class="gerenciar-dados-secao">
                        <div class="secao-header">
                            <h2>Gerenciar Op√ß√µes de Frete</h2>
                            <button id="btn-abrir-modal-add-frete" class="btn-adicionar">Adicionar Frete</button>
                        </div>
                        <table id="tabela-frete">
                             <thead>
                                <tr>
                                    <th class="sortable-header" data-sort-key="valor">Valor <span class="sort-arrow"></span></th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="tabela-frete-body"></tbody>
                        </table>
                    </section>

                    <section class="gerenciar-dados-secao" style="margin-top: 20px; border-top: 1px solid #dee2e6;">
                        <div class="secao-header">
                            <h2>Gerenciar Op√ß√µes de Instala√ß√£o</h2>
                            <button id="btn-abrir-modal-add-instalacao" class="btn-adicionar">Adicionar Instala√ß√£o</button>
                        </div>
                        <table id="tabela-instalacao">
                             <thead>
                                <tr>
                                    <th class="sortable-header" data-sort-key="valor">Valor <span class="sort-arrow"></span></th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="tabela-instalacao-body"></tbody>
                        </table>
                    </section>
                </div>
            </div> </div> </main>

    <template id="template-calc-tab">
        <div class="calc-tab" data-index="0">
            <span class="calc-tab-name">Or√ßamento</span>
            <button class="btn-close-aba" title="Fechar aba">√ó</button>
        </div>
    </template>
<template id="template-section-tecido">
        <div class="quote-section" data-section-type="tecido">
            <div class="quote-section-header">
                <div class="quote-section-title-group">
                    <button class="btn-abrir-config-calculadora" title="Configura√ß√µes de C√°lculo">‚öôÔ∏è</button>
                    <h3>Cortinas Tecido</h3>
                </div>
                <div>
                    <button class="btn-move-secao btn-move-up" title="Mover para cima">‚ñ≤</button>
                    <button class="btn-move-secao btn-move-down" title="Mover para baixo">‚ñº</button>
                    <button class="btn-add-linha btn-adicionar">+ Ambiente</button>
                    <button class="btn-remover-secao btn-excluir" title="Remover se√ß√£o">√ó</button>
                </div>
            </div>
            <div class="tabela-container calculator-container">
                <table class="tabela-calculo">
    <colgroup>
        <col class="print-col-acoes">
        <col class="print-col-selecionar">
        <col class="print-col-ambiente">
        <col class="print-col-largura">
        <col class="print-col-altura">
        <col class="print-col-franz-cortina">
        <col class="print-col-cod-cortina">
        <col class="print-col-qtd-cortina">
        <col class="print-col-cod-forro">
        <col class="print-col-qtd-forro">
        <col class="print-col-franz-blackout">
        <col class="print-col-cod-blackout">
        <col class="print-col-qtd-blackout">
        <col class="print-col-confeccao">
        <col class="print-col-trilho">
        <col class="print-col-instalacao">
        <col class="print-col-outros">
        <col class="print-col-total">
        <col class="print-col-parcelado">
        <col class="print-col-observacao">
    </colgroup>
    <thead>
    <tr>
        <th rowspan="2" class="col-acoes-calc">A√á√ïES</th>
        <th rowspan="2" class="col-selecionar-calc" title="Selecionar para somar">‚úì</th>
        <th rowspan="2" class="col-ambiente-calc">AMBIENTE</th>
        <th colspan="2" class="sessao-medidas">MEDIDAS</th>

        <th colspan="2" class="sessao-cortina">TECIDO CORTINA</th> 

        <th colspan="1" class="sessao-forro">TECIDO FORRO</th> 

        <th colspan="2" class="sessao-blackout">BLACKOUT</th> 

        <th colspan="4" class="sessao-valores">VALORES</th> 
        <th colspan="3" class="sessao-orcamento">OR√áAMENTO</th>
    </tr>
    <tr>
        <th class="sessao-medidas">LARGURA</th>
        <th class="sessao-medidas">ALTURA</th>
        <th class="sessao-cortina">FRANZIDO</th>
        <th class="sessao-cortina">C√ìDIGO TECIDO</th>
        <th class="sessao-cortina">QTD.</th>
        <th class="sessao-forro">C√ìDIGO TECIDO</th>
        <th class="sessao-forro">QTD.</th>
        <th class="sessao-blackout">FRANZIDO</th>
        <th class="sessao-blackout">C√ìDIGO TECIDO</th>
        <th class="sessao-blackout">QTD.</th>
        <th class="sessao-valores">CONFEC√á√ÉO</th>
        <th class="sessao-valores">TRILHO</th>
        <th class="sessao-valores">INSTALA√á√ÉO</th>
        <th class="sessao-valores">OUTROS</th>
        <th class="sessao-orcamento">TOTAL</th>
        <th id="th-parcelado-header" class="th-parcelado-header sessao-orcamento">D√âBITO</th>
        <th class="sessao-orcamento">OBSERVA√á√ÉO</th>
    </tr>
</thead>
                    <tbody class="tabela-calculo-body"></tbody>
                </table>
            </div>
        </div>
    </template>
  <template id="template-section-amorim">
        <div class="quote-section" data-section-type="amorim">
            <div class="quote-section-header">
                <h3>Cortinas Amorim</h3>
                 <div>
                    <button class="btn-move-secao btn-move-up" title="Mover para cima">‚ñ≤</button>
<button class="btn-move-secao btn-move-down" title="Mover para baixo">‚ñº</button>
                    <button class="btn-add-linha btn-adicionar">+ Ambiente</button>
                    <button class="btn-remover-secao btn-excluir" title="Remover se√ß√£o">√ó</button>
                 </div>
            </div>
            <div class="tabela-container calculator-container">
<table class="tabela-calculo tabela-amorim-cortina">
    <colgroup>
        <col class="print-col-acoes">
        <col class="print-col-selecionar">
        <col class="print-col-ambiente">
        <col class="print-col-largura">
        <col class="print-col-altura">
        <col class="print-col-modelo">
        <col class="print-col-cod-tecido">
        <col class="print-col-colecao">
        <col class="print-col-cor-acessorios">
        <col class="print-col-comando">
        <col class="print-col-alt-comando">
        <col class="print-col-valor">
        <col class="print-col-parcelado">
        <col class="print-col-observacao">
    </colgroup>
    <thead>
                        <tr>
                            <th class="col-acoes-calc">A√á√ïES</th>
                            <th class="col-selecionar-calc" title="Selecionar para somar">‚úì</th>
                            <th class="col-ambiente-calc">AMBIENTE</th>
                            <th>LARGURA</th>
                            <th>ALTURA</th>
                            <th>MODELO CORTINA</th>
                            <th>C√ìDIGO TECIDO</th>
                            <th>COLE√á√ÉO</th>
                            <th>COR ACESS√ìRIOS</th>
                            <th>COMANDO</th>
                            <th>ALTURA COMANDO</th>
                            <th>VALOR</th>
                            <th class="th-parcelado-header">D√âBITO</th>
                            <th>OBSERVA√á√ÉO</th>
                        </tr>
                    </thead>
                    <tbody class="tabela-calculo-body"></tbody>
                </table>
            </div>
        </div>
    </template>
<template id="template-section-toldos">
        <div class="quote-section" data-section-type="toldos">
            <div class="quote-section-header">
                <h3>Toldos Amorim</h3>
                 <div>
                 <button class="btn-move-secao btn-move-up" title="Mover para cima">‚ñ≤</button>
<button class="btn-move-secao btn-move-down" title="Mover para baixo">‚ñº</button>
                    <button class="btn-add-linha btn-adicionar">+ Ambiente</button>
                    <button class="btn-remover-secao btn-excluir" title="Remover se√ß√£o">√ó</button>
                </div>
            </div>
            <div class="tabela-container calculator-container">
<table class="tabela-calculo tabela-amorim-toldos">
    <colgroup>
        <col class="print-col-acoes">
        <col class="print-col-selecionar">
        <col class="print-col-ambiente">
        <col class="print-col-largura">
        <col class="print-col-altura">
        <col class="print-col-modelo">
        <col class="print-col-cod-tecido">
        <col class="print-col-colecao">
        <col class="print-col-cor-acessorios">
        <col class="print-col-comando">
        <col class="print-col-alt-comando">
        <col class="print-col-valor">
        <col class="print-col-parcelado">
        <col class="print-col-observacao">
    </colgroup>
    <thead>
                        <tr>
                            <th class="col-acoes-calc">A√á√ïES</th>
                            <th class="col-selecionar-calc" title="Selecionar para somar">‚úì</th>
                            <th class="col-ambiente-calc">AMBIENTE</th>
                            <th>LARGURA</th>
                            <th>ALTURA</th>
                            <th>MODELO TOLDO</th>
                            <th>C√ìDIGO TECIDO</th>
                            <th>COLE√á√ÉO</th>
                            <th>COR ACESS√ìRIOS</th>
                            <th>COMANDO</th>
                            <th>ALTURA COMANDO</th>
                            <th>VALOR</th>
                            <th class="th-parcelado-header">D√âBITO</th>
                            <th>OBSERVA√á√ÉO</th>
                        </tr>
                    </thead>
                    <tbody class="tabela-calculo-body"></tbody>
                </table>
            </div>
        </div>
    </template>

    <template id="template-linha-tecido">
<tr class="linha-calculo-cliente" data-linha-type="tecido">
    <td class="col-acoes-calc"><button class="btn-remover-linha btn-excluir">√ó</button></td>
    <td class="col-selecionar-calc"><input type="checkbox" class="select-linha-checkbox" title="Selecionar linha"></td>
    <td class="col-ambiente-calc"><input type="text" class="input-ambiente" placeholder="Ex: Sala"></td>
    <td><input type="text" inputmode="decimal" class="input-largura"></td>
    <td><input type="text" inputmode="decimal" class="input-altura"></td>
    <td><select class="select-franzCortina"></select></td>
    <td><select class="select-codTecidoCortina"></select></td>
    <td><input type="text" class="resultado" readonly></td> <td><select class="select-codTecidoForro"></select></td>
    <td><input type="text" class="resultado" readonly></td> <td><select class="select-franzBlackout"></select></td>
    <td><select class="select-codTecidoBlackout"></select></td>
    <td><input type="text" class="resultado" readonly></td> <td><select class="select-confecao"></select></td>
    <td><select class="select-trilho"></select></td>
    <td><select class="select-instalacao"></select></td>
    <td><input type="text" class="input-outros format-money"></td>
    <td><input type="text" class="resultado-preco-total" readonly></td>
    <td><input type="text" class="resultado-preco-parcelado" readonly></td>
    <td><input type="text" class="input-observacao" placeholder="Obs..."></td>
</tr>
    </template>

    <template id="template-linha-amorim">
        <tr class="linha-calculo-cliente" data-linha-type="amorim">
            <td class="col-acoes-calc"><button class="btn-remover-linha btn-excluir">√ó</button></td>
            <td class="col-selecionar-calc"><input type="checkbox" class="select-linha-checkbox" title="Selecionar linha"></td>
            <td class="col-ambiente-calc"><input type="text" class="input-ambiente" placeholder="Ex: Sala"></td>
            <td><input type="text" inputmode="decimal" class="input-largura"></td>
            <td><input type="text" inputmode="decimal" class="input-altura"></td>
            <td><select class="select-modelo-cortina"></select></td>
            <td><input type="text" class="input-cod-tecido" placeholder="C√≥digo..."></td>
            <td><input type="text" class="input-colecao" placeholder="Cole√ß√£o..."></td>
            <td><select class="select-cor-acessorios"></select></td>
<td><select class="select-comando"></select></td>
<td class="col-altura-comando">
    <input type="text" class="input-altura-comando-manual" placeholder="Ex: 1.50">
    <select class="select-altura-comando-motor hidden">
        <option value="127v">127v</option>
        <option value="220v">220v</option>
    </select>
</td>
          <td><input type="text" class="input-valor-manual format-money resultado-preco-total" inputmode="decimal"></td>
<td><input type="text" class="resultado-preco-parcelado" readonly></td>
<td><input type="text" class="input-observacao" placeholder="Obs..."></td>
        </tr>
    </template>

    <template id="template-linha-toldos">
        <tr class="linha-calculo-cliente" data-linha-type="toldos">
            <td class="col-acoes-calc"><button class="btn-remover-linha btn-excluir">√ó</button></td>
            <td class="col-selecionar-calc"><input type="checkbox" class="select-linha-checkbox" title="Selecionar linha"></td>
            <td class="col-ambiente-calc"><input type="text" class="input-ambiente" placeholder="Ex: Garagem"></td>
            <td><input type="text" inputmode="decimal" class="input-largura"></td>
            <td><input type="text" inputmode="decimal" class="input-altura"></td>
            <td><select class="select-modelo-toldo"></select></td>
            <td><input type="text" class="input-cod-tecido" placeholder="C√≥digo..."></td>
            <td><input type="text" class="input-colecao" placeholder="Cole√ß√£o..."></td>
            <td><select class="select-cor-acessorios"></select></td>
<td><select class="select-comando"></select></td>
<td class="col-altura-comando">
    <input type="text" class="input-altura-comando-manual" placeholder="Ex: 1.80">
    <select class="select-altura-comando-motor hidden">
        <option value="127v">127v</option>
        <option value="220v">220v</option>
    </select>
</td>
<td><input type="text" class="input-valor-manual format-money resultado-preco-total" inputmode="decimal"></td>
<td><input type="text" class="resultado-preco-parcelado" readonly></td>
<td><input type="text" class="input-observacao" placeholder="Obs..."></td>
        </tr>
    </template>


    <div id="toast-notification" class="toast"></div>

    <div id="modal-add-cliente" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Adicionar Novo Cliente</h2>
            <form id="form-add-cliente">
                <div><label for="add-nome">Nome:</label><input type="text" id="add-nome" name="nome" required></div>
                <div><label for="add-telefone">Telefone:</label><input type="text" id="add-telefone" name="telefone"></div>
                <div><label for="add-email">Email:</label><input type="email" id="add-email" name="email"></div>
                <div><label for="add-endereco">Endere√ßo:</label><input type="text" id="add-endereco" name="endereco"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-add" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar</button>
                </div>
            </form>
        </div>
    </div>
    <div id="modal-editar-cliente" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Editar Cliente</h2>
            <form id="form-editar-cliente">
                <input type="hidden" id="edit-id" name="id">
                <div><label for="edit-nome">Nome:</label><input type="text" id="edit-nome" name="nome" required></div>
                <div><label for="edit-telefone">Telefone:</label><input type="text" id="edit-telefone" name="telefone"></div>
                <div><label for="edit-email">Email:</label><input type="email" id="edit-email" name="email"></div>
                <div><label for="edit-endereco">Endere√ßo:</label><input type="text" id="edit-endereco" name="endereco"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-editar" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar Altera√ß√µes</button>
                </div>
            </form>
        </div>
    </div>
    <div id="modal-confirm-excluir-cliente" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Confirmar Exclus√£o</h2>
            <p>Tem certeza que deseja excluir o cliente <strong id="cliente-nome-excluir"></strong>?</p>
            <div class="modal-actions">
                <button type="button" id="btn-cancelar-excluir-cliente" class="btn-cancelar">Cancelar</button>
                <button type="button" id="btn-confirmar-excluir-cliente" class="btn-excluir">Excluir</button>
            </div>
        </div>
    </div>

    <div id="modal-add-tecido" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Adicionar Tecido</h2>
            <form id="form-add-tecido">
                <div><label for="add-tecido-produto">Produto:</label><input type="text" id="add-tecido-produto" name="produto" required></div>
                <div><label for="add-tecido-largura">Largura:</label><input type="text" inputmode="decimal" id="add-tecido-largura" name="largura"></div>
                <div><label for="add-tecido-atacado">Pre√ßo Atacado:</label><input type="text" inputmode="decimal" id="add-tecido-atacado" name="atacado"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-add-tecido" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar</button>
                </div>
            </form>
        </div>
    </div>
    <div id="modal-edit-tecido" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Editar Tecido</h2>
            <form id="form-edit-tecido">
                <input type="hidden" name="id">
                <div><label for="edit-tecido-produto">Produto:</label><input type="text" id="edit-tecido-produto" name="produto" required></div>
                <div><label for="edit-tecido-largura">Largura:</label><input type="text" inputmode="decimal" id="edit-tecido-largura" name="largura"></div>
                <div><label for="edit-tecido-atacado">Pre√ßo Atacado:</label><input type="text" inputmode="decimal" id="edit-tecido-atacado" name="atacado"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-edit-tecido" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar Altera√ß√µes</button>
                </div>
            </form>
        </div>
    </div>

    <div id="modal-add-confeccao" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Adicionar Op√ß√£o de Confec√ß√£o</h2>
            <form id="form-add-confeccao">
                <div><label for="add-confeccao-opcao">Op√ß√£o:</label><input type="text" id="add-confeccao-opcao" name="opcao" required></div>
                <div><label for="add-confeccao-valor">Valor:</label><input type="text" inputmode="decimal" id="add-confeccao-valor" name="valor"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-add-confeccao" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar</button>
                </div>
            </form>
        </div>
    </div>
    <div id="modal-edit-confeccao" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Editar Op√ß√£o de Confec√ß√£o</h2>
            <form id="form-edit-confeccao">
                <input type="hidden" name="id">
                <div><label for="edit-confeccao-opcao">Op√ß√£o:</label><input type="text" id="edit-confeccao-opcao" name="opcao" required></div>
                <div><label for="edit-confeccao-valor">Valor:</label><input type="text" inputmode="decimal" id="edit-confeccao-valor" name="valor"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-edit-confeccao" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar Altera√ß√µes</button>
                </div>
            </form>
        </div>
    </div>

    <div id="modal-add-trilho" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Adicionar Op√ß√£o de Trilho</h2>
            <form id="form-add-trilho">
                <div><label for="add-trilho-opcao">Op√ß√£o:</label><input type="text" id="add-trilho-opcao" name="opcao" required></div>
                <div><label for="add-trilho-valor">Valor:</label><input type="text" inputmode="decimal" id="add-trilho-valor" name="valor"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-add-trilho" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar</button>
                </div>
            </form>
        </div>
    </div>
    <div id="modal-edit-trilho" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Editar Op√ß√£o de Trilho</h2>
            <form id="form-edit-trilho">
                <input type="hidden" name="id">
                <div><label for="edit-trilho-opcao">Op√ß√£o:</label><input type="text" id="edit-trilho-opcao" name="opcao" required></div>
                <div><label for="edit-trilho-valor">Valor:</label><input type="text" inputmode="decimal" id="edit-trilho-valor" name="valor"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-edit-trilho" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar Altera√ß√µes</button>
                </div>
            </form>
       </div>
    </div>

    <div id="modal-add-frete" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Adicionar Op√ß√£o de Frete</h2>
            <form id="form-add-frete">
                <div><label for="add-frete-valor">Valor:</label><input type="text" inputmode="decimal" id="add-frete-valor" name="valor"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-add-frete" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar</button>
                </div>
            </form>
        </div>
    </div>
    <div id="modal-edit-frete" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Editar Op√ß√£o de Frete</h2>
            <form id="form-edit-frete">
                <input type="hidden" name="id">
                <div><label for="edit-frete-valor">Valor:</label><input type="text" inputmode="decimal" id="edit-frete-valor" name="valor"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-edit-frete" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar Altera√ß√µes</button>
                </div>
            </form>
        </div>
    </div>

    <div id="modal-add-instalacao" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Adicionar Op√ß√£o de Instala√ß√£o</h2>
            <form id="form-add-instalacao">
                <div><label for="add-instalacao-valor">Valor:</label><input type="text" inputmode="decimal" id="add-instalacao-valor" name="valor"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-add-instalacao" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar</button>
                </div>
            </form>
        </div>
    </div>
    <div id="modal-edit-instalacao" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Editar Op√ß√£o de Instala√ß√£o</h2>
            <form id="form-edit-instalacao">
                <input type="hidden" name="id">
                <div><label for="edit-instalacao-valor">Valor:</label><input type="text" inputmode="decimal" id="edit-instalacao-valor" name="valor"></div>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-edit-instalacao" class="btn-cancelar">Cancelar</button>
                    <button type="submit" class="btn-salvar">Salvar Altera√ß√µes</button>
                </div>
            </form>
        </div>
    </div>

    <div id="modal-confirm-excluir-generico" class="modal-overlay" style="display: none;">
            <div class="modal-content">
                <h2>Confirmar Exclus√£o</h2>
                <p>Tem certeza que deseja excluir <strong id="item-nome-excluir"></strong>?</p>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-excluir-generico" class="btn-cancelar">Cancelar</button>
                    <button type="button" id="btn-confirmar-excluir-generico" class="btn-excluir">Excluir</button>
                </div>
            </div>
        </div>

    <div id="modal-confirm-excluir-linha" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Confirmar Exclus√£o</h2>
            <p>Tem certeza que deseja excluir o ambiente <strong id="ambiente-nome-excluir">este ambiente</strong>?</p>
            <div class="modal-actions">
                <button type="button" id="btn-cancelar-excluir-linha" class="btn-cancelar">Cancelar</button>
                <button type="button" id="btn-confirmar-excluir-linha" class="btn-excluir">Excluir</button>
            </div>
        </div>
    </div>

     <div id="modal-confirm-excluir-secao" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Confirmar Exclus√£o</h2>
            <p>Tem certeza que deseja remover a se√ß√£o <strong id="secao-nome-excluir"></strong> deste or√ßamento?</p>
            <div class="modal-actions">
                <button type="button" id="btn-cancelar-excluir-secao" class="btn-cancelar">Cancelar</button>
                <button type="button" id="btn-confirmar-excluir-secao" class="btn-excluir">Excluir</button>
            </div>
        </div>
    </div>

    <div id="modal-config-calculadora" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Configura√ß√µes do Or√ßamento</h2>
            <div class="config-calculadora-content">
                <p>Ajuste o valor base para o c√°lculo do or√ßamento.</p>
                <div class="grupo-markups-modal">
                    <div>
                        <label for="input-markup-base-calc">MARKUP (%)</label>
                        <input type="number" id="input-markup-base-calc" class="global-calc-trigger" value="100">
                    </div>
                </div>
            </div>
            <div class="modal-actions">
                <button type="button" id="btn-fechar-config-calculadora" class="btn-cancelar">Fechar</button>
            </div>
        </div>
    </div>

    <div id="modal-confirm-excluir-aba" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Confirmar Exclus√£o</h2>
            <p>Tem certeza que deseja excluir a aba <strong id="aba-nome-excluir"></strong>?</p>
            <div class="modal-actions">
                <button type="button" id="btn-cancelar-excluir-aba" class="btn-cancelar">Cancelar</button>
                <button type="button" id="btn-confirmar-excluir-aba" class="btn-excluir">Excluir</button>
            </div>
        </div>
    </div>

    <div id="modal-confirm-sair" class="modal-overlay" style="display: none;">
            <div class="modal-content">
                <h2>Altera√ß√µes n√£o salvas</h2>
                <p>Voc√™ possui altera√ß√µes n√£o salvas. Deseja realmente sair sem salvar?</p>
                <div class="modal-actions">
                    <button type="button" id="btn-cancelar-sair" class="btn-cancelar">Cancelar</button>
                    <button type="button" id="btn-confirmar-sair" class="btn-excluir">Sair sem Salvar</button>
                    <button type="button" id="btn-salvar-e-sair" class="btn-salvar">Sair e Salvar</button>
                </div>
            </div>
        </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module" src="script.js"></script>
</body>
</html>